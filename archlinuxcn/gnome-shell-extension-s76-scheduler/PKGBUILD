# Maintainer: Gavin Luo <lunt.luo@gmail.com>
# Maintainer: Ossian Winter <ossian@winter.vg>

pkgname=gnome-shell-extension-s76-scheduler
_uuid=s76-scheduler@winter.vg
pkgver=0.3.0
pkgrel=1
pkgdesc='Tiny GNOME extension that updates process priorities using the System76 Scheduler'
arch=('any')
url='https://github.com/ossianwinter/s76-scheduler'
license=('MPL-2.0')
depends=('gnome-shell>=46' 'system76-scheduler')
makedepends=('git')
source=("git+https://github.com/ossianwinter/s76-scheduler.git#tag=v${pkgver}")
b2sums=('582f07fec55c4ac9bb32d092e55e0325c07fe0dde356d5bcaacaa81ae96a8cc37b07d298a19b5693e59d793918194033752e7e6a3c23c96be0d772de8e655bea')

package() {
  cd "${srcdir}/s76-scheduler"

  install --directory --mode=755 "${pkgdir}/usr/share/gnome-shell/extensions/${_uuid}"
  cp --archive extension.js LICENSE metadata.json "${pkgdir}/usr/share/gnome-shell/extensions/${_uuid}/"
}
