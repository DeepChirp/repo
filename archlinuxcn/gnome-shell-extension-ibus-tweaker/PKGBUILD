# Maintainer: Gavin Luo <lunt.luo@gmail.com>

pkgname=gnome-shell-extension-ibus-tweaker
pkgver=49.0
pkgrel=1
pkgdesc="GNOME Shell extension to tweak IBus font, input mode, clipboard history, etc."
arch=('any')
url="https://github.com/tuberry/ibus-tweaker"
license=('GPL-3.0-or-later')
depends=('gnome-shell>=49')
makedepends=('meson' 'sassc')
source=("${pkgname}-${pkgver}.tar.gz::https://github.com/tuberry/ibus-tweaker/archive/refs/tags/${pkgver}.tar.gz")
b2sums=('b2b865d463a688e02daca71f858d9803490a9db0cdd00927fcbf52cfb672716578144e66a8bca8602fdd5ad6c5e046023a679d3d2451dc655838869c53c6d6d6')

build() {
  cd "ibus-tweaker-${pkgver}"
 
  meson setup build -Dlocaledir="${pkgdir}/usr/share" -Ddatadir="${pkgdir}/usr/share" -Dtarget=system
}

package() {
  cd "ibus-tweaker-${pkgver}"
  
  meson install -C build
  rm "${pkgdir}/usr/share/glib-2.0/schemas/gschemas.compiled"
}
